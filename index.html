<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <base href="/polyfractl/">
        <title>polyfractl</title>
        <style>
            html, body { height: 100%; margin: 0; }
            /* App grid: top toolbar, canvas area, and right sidebar */
            #app {
                display: grid;
                grid-template-columns: 1fr 320px; /* main + sidebar */
                grid-template-rows: 64px 1fr;     /* top bar + content */
                grid-template-areas:
                    "top top"
                    "canvas sidebar";
                height: 100vh;
                width: 100vw;
                overflow: hidden;
                background: #000;
            }

            #top { grid-area: top; background: rgba(255,255,255,0.95); display:flex; align-items:center; padding:0 12px; box-shadow: 0 1px 0 rgba(0,0,0,0.06); z-index: 10; }
            #title { font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial; font-size: 18px; font-weight: 600; }
            #canvas { grid-area: canvas; position: relative; background: #000; }
            #sidebar { grid-area: sidebar; position: relative; overflow:auto; background: #fff; border-left: 1px solid #ddd; padding: 12px; }

            /* sidebar buttons */
            #sidebar-ui { display:flex; flex-direction:column; gap:8px; align-items:flex-start; }
            #sidebar-ui button { width: 100%; text-align: left; }

            /* top inline UI (if any) */
            #ui { display:flex; gap:8px; align-items:center; }
            #ui button {
                background: rgba(255,255,255,0.9);
                border: 1px solid #ccc;
                padding: 6px 10px;
                border-radius: 4px;
                cursor: pointer;
                font-family: sans-serif;
            }
            #ui button:hover { box-shadow: 0 2px 6px rgba(0,0,0,0.12); }

            /* progress overlay is positioned inside #canvas */
        </style>
        <script type="importmap">
            {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.181.1/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.181.1/examples/jsm/",
                "orbit-controls": "https://cdn.jsdelivr.net/npm/three@0.181.1/examples/jsm/controls/OrbitControls.js"
            }
            }
        </script>
      <script type="module" crossorigin src="/polyfractl/assets/index-DeekKtO8.js"></script>
    </head>
    <body>
        <div id="app">
            <header id="top">
                <div id="title">polyfractl</div>
            </header> 

            <main id="canvas">
                <div id="progress" style="display:none; position: absolute; right: 12px; top: 12px; background: rgba(0,0,0,0.7); color: #fff; padding: 10px 14px; border-radius: 6px; font-family: sans-serif; z-index:30;">
                    <div id="progress-msg">Generating fractal...</div>
                    <div style="margin-top:8px; text-align:right;"><button id="progress-cancel" style="background:#fff;color:#000;border:none;padding:6px 8px;border-radius:4px;cursor:pointer;">Cancel</button></div>
                </div>
            </main>

            <aside id="sidebar">
                <div class="sidebar-content">
                    <div style="display:flex; flex-direction:column; gap:8px; margin-bottom:12px;">
                        <strong>Controls</strong>
                        <div id="ui" style="display:flex; gap:8px;">
                            <button id="generate">Generate Fractal</button>
                            <button id="cycle-view">Cycle View</button>
                            <button id="clear-scene">Clear</button>
                        </div>
                    </div>
                    <div id="sidebar-ui">
                        <!-- fractal type selector -->
                        <div style="display:flex; flex-direction:column; gap:8px; width:100%;">
                            <label for="fractal-type-select">Fractal class</label>
                            <select id="fractal-type-select" style="width:100%;">
                                <option value="Split Koch">Split Koch</option>
                            </select>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

    </body>
</html>